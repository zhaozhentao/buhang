(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-587deb3f"],{"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),a=n("4bf8"),s=n("9def"),o=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,p=5==t||f,m=e||o;return function(e,o,d){for(var h,v,b=a(e),g=i(b),w=r(o,d,3),y=s(g.length),x=0,L=n?m(e,y):c?m(e,0):void 0;y>x;x++)if((p||x in g)&&(h=g[x],v=w(h,x,b),t))if(n)L[x]=v;else if(v)switch(t){case 3:return!0;case 5:return h;case 6:return x;case 2:L.push(h)}else if(l)return!1;return f?-1:u||l?l:L}}},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},b76a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-form",{ref:"elForm",attrs:{model:t.formData,size:"medium","label-width":"120px"}},[n("el-form-item",{attrs:{label:"关于我们",prop:"field101"}},[n("el-upload",{ref:"field101",attrs:{"file-list":t.field101fileList,"on-success":t.onAboutSuccess,action:"/api/files","list-type":"picture"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1)],1),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"小程序封面",prop:"image"}},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{multiple:"",limit:9,action:"/api/files","on-success":t.onSuccess,"on-remove":t.onRemove,"file-list":t.fileList,"list-type":"picture"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},i=[],a=(n("7514"),n("7f7f"),n("96cf"),n("3b8d")),s=n("2ef0"),o=n.n(s),c=n("b775");function u(){return Object(c["a"])({url:"/settings",method:"get"})}function l(t){return Object(c["a"])({url:"/settings",method:"post",data:t})}function f(t,e){return Object(c["a"])({url:"/settings/".concat(t),method:"post",data:e})}var p={data:function(){return{formData:{field101:null},field101fileList:[],settings:[],fileList:[],form:{}}},created:function(){this.fetch()},methods:{onSubmit:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.a.map(this.fileList,(function(t){return t.response})),t.next=3,l({banners:e});case 3:this.$message.success("保存成功");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),fileToItem:function(t){return{name:t,response:t,url:"".concat(location.protocol,"//").concat(location.host,"/api/files/").concat(t)}},onAboutSuccess:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.field101fileList=[this.fileToItem(e)],n=new FormData,n.append("filePath",e),t.next=5,f(3,n);case 5:r=t.sent,2e4===r.code&&this.$message.success("上传成功");case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onSuccess:function(t){this.fileList=o.a.concat(this.fileList,this.fileToItem(t))},onRemove:function(t){o.a.remove(this.fileList,(function(e){return e.name===t.name}))},fetch:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:if(e=t.sent,n=o.a.find(e.data,{id:2}),o.a.isEmpty(n)||o.a.isEmpty(n.stringValue)?this.fileList=[]:this.fileList=o.a.map(n.stringValue,(function(t){return{name:t,response:t,url:"".concat(location.protocol,"//").concat(location.host,"/api/files/").concat(t)}})),r=o.a.find(e.data,{id:3}),!o.a.isEmpty(r)){t.next=10;break}return t.abrupt("return");case 10:this.field101fileList=[{name:r.stringValue,response:r.stringValue,url:"".concat(location.protocol,"//").concat(location.host,"/api/files/").concat(r.stringValue)}];case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},m=p,d=n("2877"),h=Object(d["a"])(m,r,i,!1,null,null,null);e["default"]=h.exports},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),a=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}}}]);